<html>
  <head>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  </head>

  <body>
    <a-scene>
      <!-- === ASSETS === -->
      <a-assets>
        <img id="wall" src="https://thumbs.dreamstime.com/b/fond-de-briques-de-pierre-d%C3%A9corative-37684662.jpg">
        <img id="sky" src="https://media.istockphoto.com/id/523382283/fr/vectoriel/simple-espace-vectoriel-fond-d%C3%A9toiles.jpg?s=612x612&w=0&k=20&c=PH_EeNn2eT55_SenNfdq_YV1X3V538rmI7nSW0Lyli0=">
        <img id="floor" src="./asset/dirt.jpg">
        <a-asset-item id="centipede" src="./asset/centipede_free.glb"></a-asset-item>

        <!-- === MIXINS === -->
        <a-mixin
         id="wallBase"
         material="src: #wall; color: #403737; side: double"
         geometry="primitive: plane; height: 2; width: 0.5"
         scale="1 1 2">
        </a-mixin>
        <a-mixin id="wallY" mixin="wallBase" rotation="0 90 0"></a-mixin>

        <a-mixin 
          id="floorBase"
          material="src: #floor; color: #403737; side: double"
          geometry="primitive: plane; height: 4; width: 4"
          rotation="-90 0 0"
          position="0 0 -4">
        </a-mixin>
        <a-mixin id="centipedeBase" gltf-model="#centipede" scale="5 5 5"></a-mixin>
      </a-assets>

      <!-- === CENTIPÈDES === -->
      <a-entity>
        <a-entity mixin="centipedeBase" rotation="57.68 0 -90" position="-0.80317 1.33998 0.35134"></a-entity>
        <a-entity mixin="centipedeBase" rotation="34.8 0 -90" position="0.36606 0.94911 0.71582"></a-entity>
        <a-entity mixin="centipedeBase" rotation="-20 90 -90" position="-1.09457 0.69607 -0.88834"></a-entity>
        <a-entity mixin="centipedeBase" rotation="-90 90 -90" position="-1.74535 0.69607 1.9812"></a-entity>
        <a-entity mixin="centipedeBase" rotation="50 90 -90" position="1.59783 1.45097 1.89287"></a-entity>
        <a-entity mixin="centipedeBase" rotation="-100 90 90" position="0.99304 0.3626 -1.4991"></a-entity>
      </a-entity>

      <!-- === LABYRINTHE (avec mixins) === -->
      <a-entity position="0 0 4">
        <!-- murs alignés -->
        <a-plane mixin="wallBase" position="0.08 1 -3.7" scale="1.2 1 2"></a-plane>
        <a-plane mixin="wallBase" position="-0.7 1 -6" scale="1.6 1 2"></a-plane>
        <a-plane mixin="wallBase" position="-1.55 1 -6" scale="1.8 1 2"></a-plane>
        <a-plane mixin="wallBase" position="-0.2 1 -4.3" scale="2.4 1 2"></a-plane>
        <a-plane mixin="wallBase" position="-1.7 1 -4.3" scale="1.2 1 2"></a-plane>
        <a-plane mixin="wallY" position="0.4 1 -4.6" scale="1.2 1 2"></a-plane>
        <a-plane mixin="wallY" position="-0.8 1 -3.8" scale="2 1 2"></a-plane>
        <a-plane mixin="wallY" position="-0.8 1 -2.65" scale="2.6 1 2"></a-plane>
        <a-plane mixin="wallY" position="-2 1 -2.75" scale="3 1 2"></a-plane>
        <a-plane mixin="wallY" position="-1.4 1 -3.8" scale="2 1 2"></a-plane>
        <a-plane mixin="wallY" position="0.375 1 -3.4" scale="1.2 1 2"></a-plane>
        <a-plane mixin="wallY" position="1 1 -2.8" scale="1 1 2"></a-plane>
        <a-plane mixin="wallY" position="2 1 -2.4" scale="1.2 1 2"></a-plane>
        <a-plane mixin="wallY" position="1.7 1 -3.2" scale="2 1 2"></a-plane>
        <a-plane mixin="wallBase" position="1.85 1 -4.5" scale="0.8 1 2"></a-plane>
        <a-plane mixin="wallBase" position="1.5 1 -3.7" scale="2 1 2"></a-plane>
        <a-plane mixin="wallBase" position="1.2 1 -5.5" scale="2 1 2"></a-plane>
        <a-plane mixin="wallBase" position="0.2 1 -5.5" scale="2 1 2"></a-plane>
        <a-plane mixin="wallBase" position="1.85 1 -2.7" scale="0.6 1 2"></a-plane>
        <a-plane mixin="wallY" position="0.3 1 -2.25" scale="1 1 2"></a-plane>
        <a-plane mixin="wallY" position="-1 1 -5.75" scale="1 1 2"></a-plane>
        <a-plane mixin="wallY" position="-2 1 -5.5" scale="2 1 2"></a-plane>
        <a-plane mixin="wallY" position="-2 1 -4.65" scale="1.4 1 2"></a-plane>
        <a-plane mixin="wallBase" position="1.5 1 -2.1" scale="2 1 2"></a-plane>
        <a-plane mixin="wallBase" position="0.65 1 -2.1" scale="1.4 1 2"></a-plane>
        <a-plane mixin="wallBase" position="0 1 -3.1" scale="1.5 1 2"></a-plane>
        <a-plane mixin="wallBase" position="-0.7 1 -4.9" scale="2 1 2"></a-plane>
        <a-plane mixin="wallY" position="1 1 -4.25" scale="2.26 1 2"></a-plane>
        <a-plane mixin="wallY" position="2 1 -4.1" scale="1.5 1 2"></a-plane>
        <a-plane mixin="wallY" position="1.65 1 -5" scale="2 1 2"></a-plane>
        <a-plane mixin="wallBase" position="-1.7 1 -2.6" scale="1.2 1 2"></a-plane>
        <a-plane mixin="wallBase" position="-1.4 1 -2" scale="2.4 1 2"></a-plane>
        <a-plane mixin="wallBase" position="-0.25 1 -2.5" scale="2.2 1 2"></a-plane>

        <!-- Sol -->
        <a-plane mixin="floorBase" position="0 0 -4" width="4" height="4"></a-plane>
      </a-entity>

      <!-- === CAMÉRA === -->
      <a-entity camera look-controls wasd-controls="acceleration:5" position="0 1.6 0"></a-entity>

      <!-- === CIEL === -->
      <a-sky src="#sky" color="#ECECEC"></a-sky>
    </a-scene>
  </body>
</html>